find_package(Boost REQUIRED COMPONENTS unit_test_framework)

add_definitions(-DBOOST_TEST_DYN_LINK)

file(COPY
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_ATB_R1.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_ATB_R2.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_CLD_R1.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_CLD_R2.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_MSK_R1.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_MSK_R2.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_QLT_R1.HDR
    MACCS/S2A_OPER_SSC_PDTANX_L2VALD_15SVD____20091211_QLT_R2.HDR
    MACCS/S2A_OPER_SSC_PDTIMG_L2VALD_15SVD____20091211_FRE_R1.HDR
    MACCS/S2A_OPER_SSC_PDTIMG_L2VALD_15SVD____20091211_FRE_R2.HDR
    MACCS/S2A_OPER_SSC_PDTIMG_L2VALD_15SVD____20091211_SRE_R1.HDR
    MACCS/S2A_OPER_SSC_PDTIMG_L2VALD_15SVD____20091211_SRE_R2.HDR
    MACCS/S2A_OPER_SSC_PDTQLK_L2VALD_15SVD____20091211.HDR
    MACCS/L8_TEST_L8C_PDTANX_L2VALD_198030_20130626_ATB.HDR
    MACCS/L8_TEST_L8C_PDTANX_L2VALD_198030_20130626_CLD.HDR
    MACCS/L8_TEST_L8C_PDTANX_L2VALD_198030_20130626_MSK.HDR
    MACCS/L8_TEST_L8C_PDTANX_L2VALD_198030_20130626_QLT.HDR
    MACCS/L8_TEST_L8C_PDTIMG_L2VALD_198030_20130626_FRE.HDR
    MACCS/L8_TEST_L8C_PDTIMG_L2VALD_198030_20130626_SRE.HDR
    MACCS/L8_TEST_L8C_PDTQLK_L2VALD_198030_20130626.HDR
    MACCS/S2A_OPER_SSC_L2VALD_15SVD____20091211.HDR
    MACCS/L8_TEST_L8C_L2VALD_198030_20130626.HDR
    SPOT4/SPOT4_HRVIR1_XS_20130318_N2A_EBelgiumD0000B0000.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/CLD.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/NDT.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/WAM.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/PXD.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/HDR.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/STO.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/RCR.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/RTA.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/RTC.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_PVD_ALL/LTC.xml
    MAJA/DATA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_JPI_ALL.xml
    MAJA/SENTINEL2A_20160928-105637-665_L2A_T31UDS_C_V1-0_MTD_ALL.xml
    SEN2COR/INSPIRE.xml
    SEN2COR/MTD_MSIL2A.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/QI_DATA/SENSOR_QUALITY.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/QI_DATA/FORMAT_CORRECTNESS.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/QI_DATA/GEOMETRIC_QUALITY.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/QI_DATA/RADIOMETRIC_QUALITY.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/QI_DATA/GENERAL_QUALITY.xml
    SEN2COR/DATASTRIP/DS_SGS__20181127T154920_S20181127T115214/MTD_DS.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/QI_DATA/SENSOR_QUALITY.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/QI_DATA/FORMAT_CORRECTNESS.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/QI_DATA/GEOMETRIC_QUALITY.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/QI_DATA/RADIOMETRIC_QUALITY.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/QI_DATA/GENERAL_QUALITY.xml
    SEN2COR/GRANULE/L2A_T28RBN_A009015_20181127T115214/MTD_TL.xml
    DESTINATION
    ${CMAKE_CURRENT_BINARY_DIR})

add_executable(TestMACCSReader TestMACCSReader.cpp)
target_link_libraries(TestMACCSReader
    MACCSMetadata
    "${Boost_LIBRARIES}")
add_test(TestMACCSReader TestMACCSReader)

add_executable(TestMACCSRoundTrip TestMACCSRoundTrip.cpp)
target_link_libraries(TestMACCSRoundTrip
    MACCSMetadata
    "${Boost_LIBRARIES}")
add_test(TestMACCSRoundTrip TestMACCSRoundTrip)

add_executable(TestSPOT4Reader TestSPOT4Reader.cpp)
target_link_libraries(TestSPOT4Reader
    MACCSMetadata
    "${Boost_LIBRARIES}")
add_test(TestSPOT4Reader TestSPOT4Reader)

add_executable(TestMAJAReader TestMAJAReader.cpp)
target_link_libraries(TestMAJAReader
    MACCSMetadata
    "${Boost_LIBRARIES}")
add_test(TestMAJAReader TestMAJAReader)

add_executable(TestSEN2CORReader TestSEN2CORReader.cpp)
target_link_libraries(TestSEN2CORReader
    MACCSMetadata
    "${Boost_LIBRARIES}")
add_test(TestSEN2CORReader TestSEN2CORReader)
